7b72e2fe7f287ede6d1767f1e3cacab3
"use strict";

/**
 * Setup para Testes de NotificaÃ§Ãµes Multi-Canal
 * ConfiguraÃ§Ãµes globais e mocks para os testes da Tarefa 7
 */

// Mock do DOM completo
const mockDOM = () => {
  // Mock do document
  global.document = {
    getElementById: jest.fn(() => ({
      textContent: '',
      innerHTML: '',
      classList: {
        add: jest.fn(),
        remove: jest.fn(),
        contains: jest.fn()
      },
      style: {},
      appendChild: jest.fn(),
      removeChild: jest.fn(),
      querySelector: jest.fn(),
      querySelectorAll: jest.fn(() => []),
      addEventListener: jest.fn(),
      removeEventListener: jest.fn()
    })),
    createElement: jest.fn(() => ({
      id: '',
      className: '',
      innerHTML: '',
      textContent: '',
      style: {},
      appendChild: jest.fn(),
      addEventListener: jest.fn(),
      click: jest.fn()
    })),
    body: {
      appendChild: jest.fn(),
      removeChild: jest.fn(),
      insertAdjacentHTML: jest.fn(),
      style: {}
    },
    head: {
      appendChild: jest.fn()
    },
    addEventListener: jest.fn(),
    removeEventListener: jest.fn()
  };

  // Mock do window
  global.window = {
    // Notification API
    Notification: jest.fn(() => ({
      close: jest.fn(),
      onclick: null,
      onshow: null,
      onclose: null,
      onerror: null
    })),
    // Audio Context API
    AudioContext: jest.fn(() => ({
      createOscillator: jest.fn(() => ({
        connect: jest.fn(),
        frequency: {
          setValueAtTime: jest.fn()
        },
        type: 'sine',
        start: jest.fn(),
        stop: jest.fn()
      })),
      createGain: jest.fn(() => ({
        connect: jest.fn(),
        gain: {
          setValueAtTime: jest.fn(),
          exponentialRampToValueAtTime: jest.fn()
        }
      })),
      destination: {},
      currentTime: 0
    })),
    webkitAudioContext: jest.fn(),
    // Window methods
    focus: jest.fn(),
    alert: jest.fn(),
    confirm: jest.fn(() => true),
    // Location
    location: {
      origin: 'https://telemed.test.com',
      href: 'https://telemed.test.com/dashboard'
    },
    // Storage
    localStorage: {
      getItem: jest.fn(),
      setItem: jest.fn(),
      removeItem: jest.fn(),
      clear: jest.fn()
    },
    sessionStorage: {
      getItem: jest.fn(),
      setItem: jest.fn(),
      removeItem: jest.fn(),
      clear: jest.fn()
    }
  };

  // Mock do navigator
  global.navigator = {
    userAgent: 'Mozilla/5.0 (Test Browser)',
    language: 'pt-BR',
    languages: ['pt-BR', 'en-US'],
    onLine: true,
    permissions: {
      query: jest.fn(() => Promise.resolve({
        state: 'granted'
      }))
    }
  };

  // Mock de APIs globais
  global.URL = {
    createObjectURL: jest.fn(() => 'blob:test-url-123'),
    revokeObjectURL: jest.fn()
  };
  global.Blob = jest.fn((content, options) => ({
    size: content ? content.length : 0,
    type: options?.type || 'text/plain'
  }));
  global.fetch = jest.fn(() => Promise.resolve({
    ok: true,
    status: 200,
    json: () => Promise.resolve({
      success: true
    }),
    text: () => Promise.resolve('OK')
  }));
};

// Mock de timers
const mockTimers = () => {
  global.setTimeout = jest.fn((fn, delay) => {
    if (typeof fn === 'function') {
      // Para testes sÃ­ncronos, executar imediatamente
      fn();
    }
    return 123; // Mock timer ID
  });
  global.clearTimeout = jest.fn();
  global.setInterval = jest.fn((fn, delay) => {
    if (typeof fn === 'function') {
      // Para testes, nÃ£o executar automaticamente
    }
    return 456; // Mock timer ID
  });
  global.clearInterval = jest.fn();
};

// Mock do console para capturar logs
const mockConsole = () => {
  global.console = {
    log: jest.fn(),
    warn: jest.fn(),
    error: jest.fn(),
    info: jest.fn(),
    debug: jest.fn()
  };
};

// UtilitÃ¡rios de teste
global.testUtils = {
  // Criar dados de teste para consulta
  createMockAppointmentData: (overrides = {}) => ({
    id: 'test-appointment-123',
    specialty: 'Cardiologia',
    price: 89.90,
    queuePosition: 3,
    patientPhone: '+5511987654321',
    patientEmail: 'paciente@teste.com',
    patientName: 'JoÃ£o Silva',
    doctorName: 'Dr. Roberto Santos',
    estimatedWaitTime: 15,
    ...overrides
  }),
  // Criar dados de teste para mÃ©dico
  createMockDoctorData: (overrides = {}) => ({
    name: 'Dr. JoÃ£o Silva',
    specialty: 'Cardiologia',
    crm: '12345-SP',
    ...overrides
  }),
  // Simular permissÃ£o de notificaÃ§Ã£o
  mockNotificationPermission: (permission = 'granted') => {
    if (global.window.Notification) {
      Object.defineProperty(global.window.Notification, 'permission', {
        value: permission,
        writable: true,
        configurable: true
      });
      global.window.Notification.requestPermission = jest.fn(() => Promise.resolve(permission));
    }
  },
  // Simular erro de rede
  mockNetworkError: () => {
    global.fetch.mockRejectedValueOnce(new Error('Network Error'));
  },
  // Simular resposta de API
  mockApiResponse: (data, status = 200) => {
    global.fetch.mockResolvedValueOnce({
      ok: status >= 200 && status < 300,
      status,
      json: () => Promise.resolve(data),
      text: () => Promise.resolve(JSON.stringify(data))
    });
  },
  // Verificar se notificaÃ§Ã£o foi enviada
  expectNotificationSent: (title, message) => {
    expect(global.window.Notification).toHaveBeenCalledWith(title, expect.objectContaining({
      body: message
    }));
  },
  // Verificar se som foi tocado
  expectSoundPlayed: () => {
    expect(global.window.AudioContext).toHaveBeenCalled();
  },
  // Verificar se log foi registrado
  expectLogMessage: (level, message) => {
    expect(global.console[level]).toHaveBeenCalledWith(expect.stringContaining(message));
  }
};

// ConfiguraÃ§Ã£o de matchers customizados
expect.extend({
  toHaveBeenCalledWithNotification(received, title, message) {
    const pass = received.mock.calls.some(call => call[0] === title && call[1] && call[1].body === message);
    return {
      message: () => pass ? `Expected not to have been called with notification "${title}": "${message}"` : `Expected to have been called with notification "${title}": "${message}"`,
      pass
    };
  },
  toHaveValidEmailStructure(received) {
    const hasRequiredFields = received.to && received.subject && received.html;
    const hasValidEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(received.to);
    const hasHtmlContent = received.html.includes('<div') && received.html.includes('TeleMed');
    const pass = hasRequiredFields && hasValidEmail && hasHtmlContent;
    return {
      message: () => pass ? `Expected email structure to be invalid` : `Expected email structure to be valid with to, subject, and html fields`,
      pass
    };
  },
  toHaveValidWhatsAppMessage(received) {
    const hasPhone = received.phone && received.phone.startsWith('+');
    const hasMessage = received.message && received.message.length > 0;
    const hasUrl = received.url && received.url.includes('whatsapp.com');
    const pass = hasPhone && hasMessage && hasUrl;
    return {
      message: () => pass ? `Expected WhatsApp message to be invalid` : `Expected WhatsApp message to have valid phone, message, and url`,
      pass
    };
  }
});

// Setup inicial
beforeEach(() => {
  mockDOM();
  mockTimers();
  mockConsole();

  // Reset de mocks
  jest.clearAllMocks();

  // ConfiguraÃ§Ã£o padrÃ£o de permissÃµes
  global.testUtils.mockNotificationPermission('granted');
});

// Cleanup apÃ³s cada teste
afterEach(() => {
  jest.clearAllTimers();
  jest.restoreAllMocks();
});

// ConfiguraÃ§Ã£o global de timeout para testes assÃ­ncronos
jest.setTimeout(10000);
console.log('ðŸ§ª Setup de testes para notificaÃ§Ãµes multi-canal carregado');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2NrRE9NIiwiZ2xvYmFsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImplc3QiLCJmbiIsInRleHRDb250ZW50IiwiaW5uZXJIVE1MIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiY29udGFpbnMiLCJzdHlsZSIsImFwcGVuZENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY3JlYXRlRWxlbWVudCIsImlkIiwiY2xhc3NOYW1lIiwiY2xpY2siLCJib2R5IiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiaGVhZCIsIndpbmRvdyIsIk5vdGlmaWNhdGlvbiIsImNsb3NlIiwib25jbGljayIsIm9uc2hvdyIsIm9uY2xvc2UiLCJvbmVycm9yIiwiQXVkaW9Db250ZXh0IiwiY3JlYXRlT3NjaWxsYXRvciIsImNvbm5lY3QiLCJmcmVxdWVuY3kiLCJzZXRWYWx1ZUF0VGltZSIsInR5cGUiLCJzdGFydCIsInN0b3AiLCJjcmVhdGVHYWluIiwiZ2FpbiIsImV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUiLCJkZXN0aW5hdGlvbiIsImN1cnJlbnRUaW1lIiwid2Via2l0QXVkaW9Db250ZXh0IiwiZm9jdXMiLCJhbGVydCIsImNvbmZpcm0iLCJsb2NhdGlvbiIsIm9yaWdpbiIsImhyZWYiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsInNlc3Npb25TdG9yYWdlIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibGFuZ3VhZ2UiLCJsYW5ndWFnZXMiLCJvbkxpbmUiLCJwZXJtaXNzaW9ucyIsInF1ZXJ5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJzdGF0ZSIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJjb250ZW50Iiwib3B0aW9ucyIsInNpemUiLCJsZW5ndGgiLCJmZXRjaCIsIm9rIiwic3RhdHVzIiwianNvbiIsInN1Y2Nlc3MiLCJ0ZXh0IiwibW9ja1RpbWVycyIsInNldFRpbWVvdXQiLCJkZWxheSIsImNsZWFyVGltZW91dCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIm1vY2tDb25zb2xlIiwiY29uc29sZSIsImxvZyIsIndhcm4iLCJlcnJvciIsImluZm8iLCJkZWJ1ZyIsInRlc3RVdGlscyIsImNyZWF0ZU1vY2tBcHBvaW50bWVudERhdGEiLCJvdmVycmlkZXMiLCJzcGVjaWFsdHkiLCJwcmljZSIsInF1ZXVlUG9zaXRpb24iLCJwYXRpZW50UGhvbmUiLCJwYXRpZW50RW1haWwiLCJwYXRpZW50TmFtZSIsImRvY3Rvck5hbWUiLCJlc3RpbWF0ZWRXYWl0VGltZSIsImNyZWF0ZU1vY2tEb2N0b3JEYXRhIiwibmFtZSIsImNybSIsIm1vY2tOb3RpZmljYXRpb25QZXJtaXNzaW9uIiwicGVybWlzc2lvbiIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInJlcXVlc3RQZXJtaXNzaW9uIiwibW9ja05ldHdvcmtFcnJvciIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsIkVycm9yIiwibW9ja0FwaVJlc3BvbnNlIiwiZGF0YSIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJleHBlY3ROb3RpZmljYXRpb25TZW50IiwidGl0bGUiLCJtZXNzYWdlIiwiZXhwZWN0IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJvYmplY3RDb250YWluaW5nIiwiZXhwZWN0U291bmRQbGF5ZWQiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiZXhwZWN0TG9nTWVzc2FnZSIsImxldmVsIiwic3RyaW5nQ29udGFpbmluZyIsImV4dGVuZCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoTm90aWZpY2F0aW9uIiwicmVjZWl2ZWQiLCJwYXNzIiwibW9jayIsImNhbGxzIiwic29tZSIsImNhbGwiLCJ0b0hhdmVWYWxpZEVtYWlsU3RydWN0dXJlIiwiaGFzUmVxdWlyZWRGaWVsZHMiLCJ0byIsInN1YmplY3QiLCJodG1sIiwiaGFzVmFsaWRFbWFpbCIsInRlc3QiLCJoYXNIdG1sQ29udGVudCIsImluY2x1ZGVzIiwidG9IYXZlVmFsaWRXaGF0c0FwcE1lc3NhZ2UiLCJoYXNQaG9uZSIsInBob25lIiwic3RhcnRzV2l0aCIsImhhc01lc3NhZ2UiLCJoYXNVcmwiLCJ1cmwiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImFmdGVyRWFjaCIsImNsZWFyQWxsVGltZXJzIiwicmVzdG9yZUFsbE1vY2tzIl0sInNvdXJjZXMiOlsic2V0dXAtbm90aWZpY2F0aW9ucy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogU2V0dXAgcGFyYSBUZXN0ZXMgZGUgTm90aWZpY2HDp8O1ZXMgTXVsdGktQ2FuYWxcclxuICogQ29uZmlndXJhw6fDtWVzIGdsb2JhaXMgZSBtb2NrcyBwYXJhIG9zIHRlc3RlcyBkYSBUYXJlZmEgN1xyXG4gKi9cclxuXHJcbi8vIE1vY2sgZG8gRE9NIGNvbXBsZXRvXHJcbmNvbnN0IG1vY2tET00gPSAoKSA9PiB7XHJcbiAgICAvLyBNb2NrIGRvIGRvY3VtZW50XHJcbiAgICBnbG9iYWwuZG9jdW1lbnQgPSB7XHJcbiAgICAgICAgZ2V0RWxlbWVudEJ5SWQ6IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgICAgICAgdGV4dENvbnRlbnQ6ICcnLFxyXG4gICAgICAgICAgICBpbm5lckhUTUw6ICcnLFxyXG4gICAgICAgICAgICBjbGFzc0xpc3Q6IHtcclxuICAgICAgICAgICAgICAgIGFkZDogamVzdC5mbigpLFxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlOiBqZXN0LmZuKCksXHJcbiAgICAgICAgICAgICAgICBjb250YWluczogamVzdC5mbigpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHN0eWxlOiB7fSxcclxuICAgICAgICAgICAgYXBwZW5kQ2hpbGQ6IGplc3QuZm4oKSxcclxuICAgICAgICAgICAgcmVtb3ZlQ2hpbGQ6IGplc3QuZm4oKSxcclxuICAgICAgICAgICAgcXVlcnlTZWxlY3RvcjogamVzdC5mbigpLFxyXG4gICAgICAgICAgICBxdWVyeVNlbGVjdG9yQWxsOiBqZXN0LmZuKCgpID0+IFtdKSxcclxuICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogamVzdC5mbigpLFxyXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKClcclxuICAgICAgICB9KSksXHJcbiAgICAgICAgY3JlYXRlRWxlbWVudDogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgICAgICAgICBpZDogJycsXHJcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJycsXHJcbiAgICAgICAgICAgIGlubmVySFRNTDogJycsXHJcbiAgICAgICAgICAgIHRleHRDb250ZW50OiAnJyxcclxuICAgICAgICAgICAgc3R5bGU6IHt9LFxyXG4gICAgICAgICAgICBhcHBlbmRDaGlsZDogamVzdC5mbigpLFxyXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXHJcbiAgICAgICAgICAgIGNsaWNrOiBqZXN0LmZuKClcclxuICAgICAgICB9KSksXHJcbiAgICAgICAgYm9keToge1xyXG4gICAgICAgICAgICBhcHBlbmRDaGlsZDogamVzdC5mbigpLFxyXG4gICAgICAgICAgICByZW1vdmVDaGlsZDogamVzdC5mbigpLFxyXG4gICAgICAgICAgICBpbnNlcnRBZGphY2VudEhUTUw6IGplc3QuZm4oKSxcclxuICAgICAgICAgICAgc3R5bGU6IHt9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBoZWFkOiB7XHJcbiAgICAgICAgICAgIGFwcGVuZENoaWxkOiBqZXN0LmZuKClcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcclxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKClcclxuICAgIH07XHJcblxyXG4gICAgLy8gTW9jayBkbyB3aW5kb3dcclxuICAgIGdsb2JhbC53aW5kb3cgPSB7XHJcbiAgICAgICAgLy8gTm90aWZpY2F0aW9uIEFQSVxyXG4gICAgICAgIE5vdGlmaWNhdGlvbjogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgICAgICAgICBjbG9zZTogamVzdC5mbigpLFxyXG4gICAgICAgICAgICBvbmNsaWNrOiBudWxsLFxyXG4gICAgICAgICAgICBvbnNob3c6IG51bGwsXHJcbiAgICAgICAgICAgIG9uY2xvc2U6IG51bGwsXHJcbiAgICAgICAgICAgIG9uZXJyb3I6IG51bGxcclxuICAgICAgICB9KSksXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQXVkaW8gQ29udGV4dCBBUElcclxuICAgICAgICBBdWRpb0NvbnRleHQ6IGplc3QuZm4oKCkgPT4gKHtcclxuICAgICAgICAgICAgY3JlYXRlT3NjaWxsYXRvcjogamVzdC5mbigoKSA9PiAoe1xyXG4gICAgICAgICAgICAgICAgY29ubmVjdDogamVzdC5mbigpLFxyXG4gICAgICAgICAgICAgICAgZnJlcXVlbmN5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWVBdFRpbWU6IGplc3QuZm4oKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdzaW5lJyxcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiBqZXN0LmZuKCksXHJcbiAgICAgICAgICAgICAgICBzdG9wOiBqZXN0LmZuKClcclxuICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICBjcmVhdGVHYWluOiBqZXN0LmZuKCgpID0+ICh7XHJcbiAgICAgICAgICAgICAgICBjb25uZWN0OiBqZXN0LmZuKCksXHJcbiAgICAgICAgICAgICAgICBnYWluOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VmFsdWVBdFRpbWU6IGplc3QuZm4oKSxcclxuICAgICAgICAgICAgICAgICAgICBleHBvbmVudGlhbFJhbXBUb1ZhbHVlQXRUaW1lOiBqZXN0LmZuKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkpLFxyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbjoge30sXHJcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lOiAwXHJcbiAgICAgICAgfSkpLFxyXG4gICAgICAgIFxyXG4gICAgICAgIHdlYmtpdEF1ZGlvQ29udGV4dDogamVzdC5mbigpLFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFdpbmRvdyBtZXRob2RzXHJcbiAgICAgICAgZm9jdXM6IGplc3QuZm4oKSxcclxuICAgICAgICBhbGVydDogamVzdC5mbigpLFxyXG4gICAgICAgIGNvbmZpcm06IGplc3QuZm4oKCkgPT4gdHJ1ZSksXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTG9jYXRpb25cclxuICAgICAgICBsb2NhdGlvbjoge1xyXG4gICAgICAgICAgICBvcmlnaW46ICdodHRwczovL3RlbGVtZWQudGVzdC5jb20nLFxyXG4gICAgICAgICAgICBocmVmOiAnaHR0cHM6Ly90ZWxlbWVkLnRlc3QuY29tL2Rhc2hib2FyZCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFN0b3JhZ2VcclxuICAgICAgICBsb2NhbFN0b3JhZ2U6IHtcclxuICAgICAgICAgICAgZ2V0SXRlbTogamVzdC5mbigpLFxyXG4gICAgICAgICAgICBzZXRJdGVtOiBqZXN0LmZuKCksXHJcbiAgICAgICAgICAgIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcclxuICAgICAgICAgICAgY2xlYXI6IGplc3QuZm4oKVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXHJcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2U6IHtcclxuICAgICAgICAgICAgZ2V0SXRlbTogamVzdC5mbigpLFxyXG4gICAgICAgICAgICBzZXRJdGVtOiBqZXN0LmZuKCksXHJcbiAgICAgICAgICAgIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcclxuICAgICAgICAgICAgY2xlYXI6IGplc3QuZm4oKVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gTW9jayBkbyBuYXZpZ2F0b3JcclxuICAgIGdsb2JhbC5uYXZpZ2F0b3IgPSB7XHJcbiAgICAgICAgdXNlckFnZW50OiAnTW96aWxsYS81LjAgKFRlc3QgQnJvd3NlciknLFxyXG4gICAgICAgIGxhbmd1YWdlOiAncHQtQlInLFxyXG4gICAgICAgIGxhbmd1YWdlczogWydwdC1CUicsICdlbi1VUyddLFxyXG4gICAgICAgIG9uTGluZTogdHJ1ZSxcclxuICAgICAgICBwZXJtaXNzaW9uczoge1xyXG4gICAgICAgICAgICBxdWVyeTogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBzdGF0ZTogJ2dyYW50ZWQnIH0pKVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gTW9jayBkZSBBUElzIGdsb2JhaXNcclxuICAgIGdsb2JhbC5VUkwgPSB7XHJcbiAgICAgICAgY3JlYXRlT2JqZWN0VVJMOiBqZXN0LmZuKCgpID0+ICdibG9iOnRlc3QtdXJsLTEyMycpLFxyXG4gICAgICAgIHJldm9rZU9iamVjdFVSTDogamVzdC5mbigpXHJcbiAgICB9O1xyXG5cclxuICAgIGdsb2JhbC5CbG9iID0gamVzdC5mbigoY29udGVudCwgb3B0aW9ucykgPT4gKHtcclxuICAgICAgICBzaXplOiBjb250ZW50ID8gY29udGVudC5sZW5ndGggOiAwLFxyXG4gICAgICAgIHR5cGU6IG9wdGlvbnM/LnR5cGUgfHwgJ3RleHQvcGxhaW4nXHJcbiAgICB9KSk7XHJcblxyXG4gICAgZ2xvYmFsLmZldGNoID0gamVzdC5mbigoKSA9PiBcclxuICAgICAgICBQcm9taXNlLnJlc29sdmUoe1xyXG4gICAgICAgICAgICBvazogdHJ1ZSxcclxuICAgICAgICAgICAgc3RhdHVzOiAyMDAsXHJcbiAgICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUgfSksXHJcbiAgICAgICAgICAgIHRleHQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSgnT0snKVxyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG59O1xyXG5cclxuLy8gTW9jayBkZSB0aW1lcnNcclxuY29uc3QgbW9ja1RpbWVycyA9ICgpID0+IHtcclxuICAgIGdsb2JhbC5zZXRUaW1lb3V0ID0gamVzdC5mbigoZm4sIGRlbGF5KSA9PiB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAvLyBQYXJhIHRlc3RlcyBzw61uY3Jvbm9zLCBleGVjdXRhciBpbWVkaWF0YW1lbnRlXHJcbiAgICAgICAgICAgIGZuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAxMjM7IC8vIE1vY2sgdGltZXIgSURcclxuICAgIH0pO1xyXG5cclxuICAgIGdsb2JhbC5jbGVhclRpbWVvdXQgPSBqZXN0LmZuKCk7XHJcbiAgICBcclxuICAgIGdsb2JhbC5zZXRJbnRlcnZhbCA9IGplc3QuZm4oKGZuLCBkZWxheSkgPT4ge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgLy8gUGFyYSB0ZXN0ZXMsIG7Do28gZXhlY3V0YXIgYXV0b21hdGljYW1lbnRlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiA0NTY7IC8vIE1vY2sgdGltZXIgSURcclxuICAgIH0pO1xyXG5cclxuICAgIGdsb2JhbC5jbGVhckludGVydmFsID0gamVzdC5mbigpO1xyXG59O1xyXG5cclxuLy8gTW9jayBkbyBjb25zb2xlIHBhcmEgY2FwdHVyYXIgbG9nc1xyXG5jb25zdCBtb2NrQ29uc29sZSA9ICgpID0+IHtcclxuICAgIGdsb2JhbC5jb25zb2xlID0ge1xyXG4gICAgICAgIGxvZzogamVzdC5mbigpLFxyXG4gICAgICAgIHdhcm46IGplc3QuZm4oKSxcclxuICAgICAgICBlcnJvcjogamVzdC5mbigpLFxyXG4gICAgICAgIGluZm86IGplc3QuZm4oKSxcclxuICAgICAgICBkZWJ1ZzogamVzdC5mbigpXHJcbiAgICB9O1xyXG59O1xyXG5cclxuLy8gVXRpbGl0w6FyaW9zIGRlIHRlc3RlXHJcbmdsb2JhbC50ZXN0VXRpbHMgPSB7XHJcbiAgICAvLyBDcmlhciBkYWRvcyBkZSB0ZXN0ZSBwYXJhIGNvbnN1bHRhXHJcbiAgICBjcmVhdGVNb2NrQXBwb2ludG1lbnREYXRhOiAob3ZlcnJpZGVzID0ge30pID0+ICh7XHJcbiAgICAgICAgaWQ6ICd0ZXN0LWFwcG9pbnRtZW50LTEyMycsXHJcbiAgICAgICAgc3BlY2lhbHR5OiAnQ2FyZGlvbG9naWEnLFxyXG4gICAgICAgIHByaWNlOiA4OS45MCxcclxuICAgICAgICBxdWV1ZVBvc2l0aW9uOiAzLFxyXG4gICAgICAgIHBhdGllbnRQaG9uZTogJys1NTExOTg3NjU0MzIxJyxcclxuICAgICAgICBwYXRpZW50RW1haWw6ICdwYWNpZW50ZUB0ZXN0ZS5jb20nLFxyXG4gICAgICAgIHBhdGllbnROYW1lOiAnSm/Do28gU2lsdmEnLFxyXG4gICAgICAgIGRvY3Rvck5hbWU6ICdEci4gUm9iZXJ0byBTYW50b3MnLFxyXG4gICAgICAgIGVzdGltYXRlZFdhaXRUaW1lOiAxNSxcclxuICAgICAgICAuLi5vdmVycmlkZXNcclxuICAgIH0pLFxyXG5cclxuICAgIC8vIENyaWFyIGRhZG9zIGRlIHRlc3RlIHBhcmEgbcOpZGljb1xyXG4gICAgY3JlYXRlTW9ja0RvY3RvckRhdGE6IChvdmVycmlkZXMgPSB7fSkgPT4gKHtcclxuICAgICAgICBuYW1lOiAnRHIuIEpvw6NvIFNpbHZhJyxcclxuICAgICAgICBzcGVjaWFsdHk6ICdDYXJkaW9sb2dpYScsXHJcbiAgICAgICAgY3JtOiAnMTIzNDUtU1AnLFxyXG4gICAgICAgIC4uLm92ZXJyaWRlc1xyXG4gICAgfSksXHJcblxyXG4gICAgLy8gU2ltdWxhciBwZXJtaXNzw6NvIGRlIG5vdGlmaWNhw6fDo29cclxuICAgIG1vY2tOb3RpZmljYXRpb25QZXJtaXNzaW9uOiAocGVybWlzc2lvbiA9ICdncmFudGVkJykgPT4ge1xyXG4gICAgICAgIGlmIChnbG9iYWwud2luZG93Lk5vdGlmaWNhdGlvbikge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsLndpbmRvdy5Ob3RpZmljYXRpb24sICdwZXJtaXNzaW9uJywge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHBlcm1pc3Npb24sXHJcbiAgICAgICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGdsb2JhbC53aW5kb3cuTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uID0gamVzdC5mbigoKSA9PiBcclxuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShwZXJtaXNzaW9uKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gU2ltdWxhciBlcnJvIGRlIHJlZGVcclxuICAgIG1vY2tOZXR3b3JrRXJyb3I6ICgpID0+IHtcclxuICAgICAgICBnbG9iYWwuZmV0Y2gubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignTmV0d29yayBFcnJvcicpKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gU2ltdWxhciByZXNwb3N0YSBkZSBBUElcclxuICAgIG1vY2tBcGlSZXNwb25zZTogKGRhdGEsIHN0YXR1cyA9IDIwMCkgPT4ge1xyXG4gICAgICAgIGdsb2JhbC5mZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xyXG4gICAgICAgICAgICBvazogc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAsXHJcbiAgICAgICAgICAgIHN0YXR1cyxcclxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGRhdGEpLFxyXG4gICAgICAgICAgICB0ZXh0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoSlNPTi5zdHJpbmdpZnkoZGF0YSkpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFZlcmlmaWNhciBzZSBub3RpZmljYcOnw6NvIGZvaSBlbnZpYWRhXHJcbiAgICBleHBlY3ROb3RpZmljYXRpb25TZW50OiAodGl0bGUsIG1lc3NhZ2UpID0+IHtcclxuICAgICAgICBleHBlY3QoZ2xvYmFsLndpbmRvdy5Ob3RpZmljYXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgICAgICB0aXRsZSxcclxuICAgICAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xyXG4gICAgICAgICAgICAgICAgYm9keTogbWVzc2FnZVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFZlcmlmaWNhciBzZSBzb20gZm9pIHRvY2Fkb1xyXG4gICAgZXhwZWN0U291bmRQbGF5ZWQ6ICgpID0+IHtcclxuICAgICAgICBleHBlY3QoZ2xvYmFsLndpbmRvdy5BdWRpb0NvbnRleHQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gVmVyaWZpY2FyIHNlIGxvZyBmb2kgcmVnaXN0cmFkb1xyXG4gICAgZXhwZWN0TG9nTWVzc2FnZTogKGxldmVsLCBtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgZXhwZWN0KGdsb2JhbC5jb25zb2xlW2xldmVsXSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXHJcbiAgICAgICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKG1lc3NhZ2UpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8vIENvbmZpZ3VyYcOnw6NvIGRlIG1hdGNoZXJzIGN1c3RvbWl6YWRvc1xyXG5leHBlY3QuZXh0ZW5kKHtcclxuICAgIHRvSGF2ZUJlZW5DYWxsZWRXaXRoTm90aWZpY2F0aW9uKHJlY2VpdmVkLCB0aXRsZSwgbWVzc2FnZSkge1xyXG4gICAgICAgIGNvbnN0IHBhc3MgPSByZWNlaXZlZC5tb2NrLmNhbGxzLnNvbWUoY2FsbCA9PiBcclxuICAgICAgICAgICAgY2FsbFswXSA9PT0gdGl0bGUgJiYgXHJcbiAgICAgICAgICAgIGNhbGxbMV0gJiYgXHJcbiAgICAgICAgICAgIGNhbGxbMV0uYm9keSA9PT0gbWVzc2FnZVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICgpID0+IFxyXG4gICAgICAgICAgICAgICAgcGFzcyBcclxuICAgICAgICAgICAgICAgICAgICA/IGBFeHBlY3RlZCBub3QgdG8gaGF2ZSBiZWVuIGNhbGxlZCB3aXRoIG5vdGlmaWNhdGlvbiBcIiR7dGl0bGV9XCI6IFwiJHttZXNzYWdlfVwiYFxyXG4gICAgICAgICAgICAgICAgICAgIDogYEV4cGVjdGVkIHRvIGhhdmUgYmVlbiBjYWxsZWQgd2l0aCBub3RpZmljYXRpb24gXCIke3RpdGxlfVwiOiBcIiR7bWVzc2FnZX1cImAsXHJcbiAgICAgICAgICAgIHBhc3NcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuXHJcbiAgICB0b0hhdmVWYWxpZEVtYWlsU3RydWN0dXJlKHJlY2VpdmVkKSB7XHJcbiAgICAgICAgY29uc3QgaGFzUmVxdWlyZWRGaWVsZHMgPSByZWNlaXZlZC50byAmJiByZWNlaXZlZC5zdWJqZWN0ICYmIHJlY2VpdmVkLmh0bWw7XHJcbiAgICAgICAgY29uc3QgaGFzVmFsaWRFbWFpbCA9IC9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvLnRlc3QocmVjZWl2ZWQudG8pO1xyXG4gICAgICAgIGNvbnN0IGhhc0h0bWxDb250ZW50ID0gcmVjZWl2ZWQuaHRtbC5pbmNsdWRlcygnPGRpdicpICYmIHJlY2VpdmVkLmh0bWwuaW5jbHVkZXMoJ1RlbGVNZWQnKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFzcyA9IGhhc1JlcXVpcmVkRmllbGRzICYmIGhhc1ZhbGlkRW1haWwgJiYgaGFzSHRtbENvbnRlbnQ7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICgpID0+IFxyXG4gICAgICAgICAgICAgICAgcGFzcyBcclxuICAgICAgICAgICAgICAgICAgICA/IGBFeHBlY3RlZCBlbWFpbCBzdHJ1Y3R1cmUgdG8gYmUgaW52YWxpZGBcclxuICAgICAgICAgICAgICAgICAgICA6IGBFeHBlY3RlZCBlbWFpbCBzdHJ1Y3R1cmUgdG8gYmUgdmFsaWQgd2l0aCB0bywgc3ViamVjdCwgYW5kIGh0bWwgZmllbGRzYCxcclxuICAgICAgICAgICAgcGFzc1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIHRvSGF2ZVZhbGlkV2hhdHNBcHBNZXNzYWdlKHJlY2VpdmVkKSB7XHJcbiAgICAgICAgY29uc3QgaGFzUGhvbmUgPSByZWNlaXZlZC5waG9uZSAmJiByZWNlaXZlZC5waG9uZS5zdGFydHNXaXRoKCcrJyk7XHJcbiAgICAgICAgY29uc3QgaGFzTWVzc2FnZSA9IHJlY2VpdmVkLm1lc3NhZ2UgJiYgcmVjZWl2ZWQubWVzc2FnZS5sZW5ndGggPiAwO1xyXG4gICAgICAgIGNvbnN0IGhhc1VybCA9IHJlY2VpdmVkLnVybCAmJiByZWNlaXZlZC51cmwuaW5jbHVkZXMoJ3doYXRzYXBwLmNvbScpO1xyXG5cclxuICAgICAgICBjb25zdCBwYXNzID0gaGFzUGhvbmUgJiYgaGFzTWVzc2FnZSAmJiBoYXNVcmw7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICgpID0+IFxyXG4gICAgICAgICAgICAgICAgcGFzcyBcclxuICAgICAgICAgICAgICAgICAgICA/IGBFeHBlY3RlZCBXaGF0c0FwcCBtZXNzYWdlIHRvIGJlIGludmFsaWRgXHJcbiAgICAgICAgICAgICAgICAgICAgOiBgRXhwZWN0ZWQgV2hhdHNBcHAgbWVzc2FnZSB0byBoYXZlIHZhbGlkIHBob25lLCBtZXNzYWdlLCBhbmQgdXJsYCxcclxuICAgICAgICAgICAgcGFzc1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gU2V0dXAgaW5pY2lhbFxyXG5iZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIG1vY2tET00oKTtcclxuICAgIG1vY2tUaW1lcnMoKTtcclxuICAgIG1vY2tDb25zb2xlKCk7XHJcbiAgICBcclxuICAgIC8vIFJlc2V0IGRlIG1vY2tzXHJcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcclxuICAgIFxyXG4gICAgLy8gQ29uZmlndXJhw6fDo28gcGFkcsOjbyBkZSBwZXJtaXNzw7Vlc1xyXG4gICAgZ2xvYmFsLnRlc3RVdGlscy5tb2NrTm90aWZpY2F0aW9uUGVybWlzc2lvbignZ3JhbnRlZCcpO1xyXG59KTtcclxuXHJcbi8vIENsZWFudXAgYXDDs3MgY2FkYSB0ZXN0ZVxyXG5hZnRlckVhY2goKCkgPT4ge1xyXG4gICAgamVzdC5jbGVhckFsbFRpbWVycygpO1xyXG4gICAgamVzdC5yZXN0b3JlQWxsTW9ja3MoKTtcclxufSk7XHJcblxyXG4vLyBDb25maWd1cmHDp8OjbyBnbG9iYWwgZGUgdGltZW91dCBwYXJhIHRlc3RlcyBhc3PDrW5jcm9ub3NcclxuamVzdC5zZXRUaW1lb3V0KDEwMDAwKTtcclxuXHJcbmNvbnNvbGUubG9nKCfwn6eqIFNldHVwIGRlIHRlc3RlcyBwYXJhIG5vdGlmaWNhw6fDtWVzIG11bHRpLWNhbmFsIGNhcnJlZ2FkbycpOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE1BQU1BLE9BQU8sR0FBR0EsQ0FBQSxLQUFNO0VBQ2xCO0VBQ0FDLE1BQU0sQ0FBQ0MsUUFBUSxHQUFHO0lBQ2RDLGNBQWMsRUFBRUMsSUFBSSxDQUFDQyxFQUFFLENBQUMsT0FBTztNQUMzQkMsV0FBVyxFQUFFLEVBQUU7TUFDZkMsU0FBUyxFQUFFLEVBQUU7TUFDYkMsU0FBUyxFQUFFO1FBQ1BDLEdBQUcsRUFBRUwsSUFB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